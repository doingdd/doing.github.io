---
layout: post
category: Linux
title: Linux下的通配符和正则表达式
---
**本文梳理一下linux下的通配符和正则表达式用法**
## 概念
先梳理概念，linux下的特殊符号的概念主要有三种，对于不同的概念，同一个字符可能代表着完全不同的意思，为了避免混淆，先建立一个简单的概念抽象：  
通配符(wildcard)是bash提供的一个很方便的功能，可以用简单的字符代表特定的操作。
  
特殊符号是bash中定义的代表特定意思的符号，概念上和通配符很相似，但是它与通配符的区别就是通配符定义的符号主要作用在于一个"通"字，表示一个字符，可以代表很多个对象，或者是重复的内容，或者是顺序递归的内容等等；而特殊符号更像是bash给自己预留的满足命令行的基本功能的一些符号。

正则表达式(Regular Expression)是一种表达方式，它不仅仅依赖于bash，只要是支持其表达模式的工具都可以使用正则来进行文本处理和命令的简化，常见的支持正则的linux下的工具有grep，sed，awk，vi，vim，python的re模块等等。

**简单区别通配符和正则表达式：**通配符多用于命令行，或者文件名，正则表达式用于文本内容的处理。
## 通配符
通配符的作用就是返回满足符号规定条件的结果，通常用于ls，cat等命令中。

符号|功能
:---:|---
*|代表0到无穷多个的任意字符
?|代表有且仅有一个任意字符
[]|代表一定有一个括号内的指定字符(非任意字符)，例如[abcd]代表一定有一个字符，可能是a,b,c,d中的任意一个
[-]|若有减号在括号内时，代表在编码顺序内的所有字符。例如[1-9]代表从1到9内的所有数字，因为数字的语系编码是连续的
[^]|若中括号里的第一个字符为^,则表示反向选择。例如[^abc]代表一定有一个字符，只要是非a,b,c的其他字符就接受

举例：
```shell
找出/etc下一cron位开头的文件名：
ls /etc/cron*

找出/etc/下文件名刚好为五个字符的文件:
ls /etc/?????

找出/etc/下文件名含有数字的文件:
ls /etc/*[0-9]*

找出/etc/下文件名开头为非小写字母的文件：
ls /etc/[^a-z]*

批量复制文件到/tmp中：
cp -a /etc/[^a-z]* /tmp

批量查看文件:
ls /opt/config/servers/*/mods
/opt/config/servers/0-0-1/mods:
BILL  DGR  RTDB  SUBMEAS  VXPROC

/opt/config/servers/0-0-10/mods:
BILLHPR  CORCMON  DGR  MATESCH  SPADBI  SUBMEAS  VXPROC
```


## 特殊符号
特殊符号实际上和通配符很相似，归为一类也未尝不可，因为它和通配符没有任何符号被重用。

符号|功能
---|---
\#|批注符号，常用在脚本中，其后的内容不被执行
\|转义符号，将“特殊字符或通配符”还原成一般字符
丨|管道(pipe)，分割两个管道命令的界定，或者说是连接两个管道命令，使前面的命令标准输出，传递给后面管道命令的标准输入(标准错误输出会被忽略)
;|连续执行命令的分隔符，可以一行内执行多条命令
~|用户的主文件夹(家目录)
$|变量前导符，使用变量时必须要加的符号
&|作业控制(job control)，将命令调到后台工作
!|逻辑运算上“非”的意思
/|目录符号
\>,\>\>|数据流重定向，输出导向，分别是替换和累加
<,<<|数据流重定向，输入导向，分别是从文件输入和带截止符号的输入
''|单引号，不具备变量替换的功能，即内部元素全当做字符串
""|双引号，具备变量替换的功能，能识别内部的变量，并将其替换成变量值
``|反引号，表示内部的命令先执行，也可以使用$()将命令包含进去，推荐后者
()|在中间为子shell的起始和结束
{}|在中间为命令块的组合

## 正则表达式


 


